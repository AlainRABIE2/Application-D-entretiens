{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alaa/Downloads/studio-main/studio-main/src/lib/definitions.ts"],"sourcesContent":["import { z } from 'zod';\n\nexport const LoginSchema = z.object({\n  email: z.string().email({ message: 'Veuillez saisir une adresse e-mail valide.' }),\n  password: z.string().min(1, { message: 'Le mot de passe est requis.' }),\n});\n\nexport const RegisterSchema = z.object({\n    username: z.string().min(3, { message: 'Le nom d\\'utilisateur doit contenir au moins 3 caractères.' }),\n    email: z.string().email({ message: 'Veuillez saisir une adresse e-mail valide.' }),\n    password: z.string().min(6, { message: 'Le mot de passe doit contenir au moins 6 caractères.' }),\n});\n\nexport type User = {\n    id: string;\n    username: string;\n    email: string;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,cAAc,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAClC,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAAE,SAAS;IAA6C;IAChF,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAAE,SAAS;IAA8B;AACvE;AAEO,MAAM,iBAAiB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACnC,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAAE,SAAS;IAA6D;IACpG,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAAE,SAAS;IAA6C;IAChF,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAAE,SAAS;IAAuD;AAClG","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alaa/Downloads/studio-main/studio-main/src/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_KEY!;\r\nexport const supabase = createClient(supabaseUrl, supabaseKey);\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM;AACN,MAAM;AACC,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alaa/Downloads/studio-main/studio-main/src/lib/actions.ts"],"sourcesContent":["'use server';\n\nimport { redirect } from 'next/navigation';\nimport { cookies } from 'next/headers';\nimport { LoginSchema, RegisterSchema } from '@/lib/definitions';\nimport { createClient } from '@supabase/supabase-js';\nimport { supabase } from './supabaseClient';\n\nexport async function login(prevState: any, formData: FormData) {\n    const validatedFields = LoginSchema.safeParse(\n        Object.fromEntries(formData.entries())\n    );\n\n    if (!validatedFields.success) {\n        return {\n            errors: validatedFields.error.flatten().fieldErrors,\n        };\n    }\n\n    const { email, password } = validatedFields.data;\n\n    const { error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n    });\n\n    if (error) {\n        return {\n            message: error.message || 'Email ou mot de passe invalide.',\n        };\n    }\n\n    redirect('/');\n}\n\nexport async function register(prevState: any, formData: FormData) {\n    const validatedFields = RegisterSchema.safeParse(\n        Object.fromEntries(formData.entries())\n    );\n\n    if (!validatedFields.success) {\n        return {\n            errors: validatedFields.error.flatten().fieldErrors,\n        };\n    }\n\n    const { email, password, username } = validatedFields.data;\n\n    const { error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n            data: { username },\n        },\n    });\n\n    if (error) {\n        return {\n            message: error.message || 'Erreur lors de la création du compte.',\n        };\n    }\n\n    redirect('/login?message=Inscription réussie. Veuillez vérifier votre boîte mail pour confirmer votre inscription.');\n}\n\n\nexport async function logout() {\n    await supabase.auth.signOut();\n    redirect('/login');\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAAA;AAEA;AAEA;;;;;;;AAEO,eAAe,MAAM,SAAc,EAAE,QAAkB;IAC1D,MAAM,kBAAkB,yHAAA,CAAA,cAAW,CAAC,SAAS,CACzC,OAAO,WAAW,CAAC,SAAS,OAAO;IAGvC,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC1B,OAAO;YACH,QAAQ,gBAAgB,KAAK,CAAC,OAAO,GAAG,WAAW;QACvD;IACJ;IAEA,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,gBAAgB,IAAI;IAEhD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;QACrD;QACA;IACJ;IAEA,IAAI,OAAO;QACP,OAAO;YACH,SAAS,MAAM,OAAO,IAAI;QAC9B;IACJ;IAEA,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;AACb;AAEO,eAAe,SAAS,SAAc,EAAE,QAAkB;IAC7D,MAAM,kBAAkB,yHAAA,CAAA,iBAAc,CAAC,SAAS,CAC5C,OAAO,WAAW,CAAC,SAAS,OAAO;IAGvC,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC1B,OAAO;YACH,QAAQ,gBAAgB,KAAK,CAAC,OAAO,GAAG,WAAW;QACvD;IACJ;IAEA,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,gBAAgB,IAAI;IAE1D,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QACzC;QACA;QACA,SAAS;YACL,MAAM;gBAAE;YAAS;QACrB;IACJ;IAEA,IAAI,OAAO;QACP,OAAO;YACH,SAAS,MAAM,OAAO,IAAI;QAC9B;IACJ;IAEA,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;AACb;AAGO,eAAe;IAClB,MAAM,4HAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,OAAO;IAC3B,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;AACb;;;IA7DsB;IA2BA;IA+BA;;AA1DA,+OAAA;AA2BA,+OAAA;AA+BA,+OAAA","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alaa/Downloads/studio-main/studio-main/.next-internal/server/app/register/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {logout as '005530e91cae25c7783919d773a683b3b6733defe8'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alaa/Downloads/studio-main/studio-main/src/app/register/register-form.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/register/register-form.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/register/register-form.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","debugId":null}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alaa/Downloads/studio-main/studio-main/src/app/register/register-form.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/register/register-form.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/register/register-form.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","debugId":null}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alaa/Downloads/studio-main/studio-main/src/app/register/page.tsx"],"sourcesContent":["import RegisterForm from './register-form';\n\nexport default function RegisterPage() {\n  return (\n    <div className=\"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <h2 className=\"mt-6 text-center text-3xl font-bold tracking-tight text-foreground\">\n          Créer un nouveau compte\n        </h2>\n      </div>\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-card px-4 py-8 shadow-xl sm:rounded-lg sm:px-10\">\n          <RegisterForm />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;8BAAqE;;;;;;;;;;;0BAIrF,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,2IAAA,CAAA,UAAY;;;;;;;;;;;;;;;;;;;;;AAKvB","debugId":null}}]
}